I"D<p><b>The Problem</b><br />If you’ve managed a View Linked Clone pool for any amount of time, you probably know the frustration that can come with trying to determine which replica is tied to a particular pool. This information can be especially important when trying to find unused replicas that are hanging around using up precious storage space. Or maybe when auditing your inventory, you find you have 5 View Pools, but 6 replica VMs. How do we know if we really are using all 6 replicas?<br /><br />There is a public VMware Knowledge Base article <a href="http://kb.vmware.com/kb/2009844" target="_blank">(2009844)</a> that utilizes SviConfig.exe to automate the process of finding unused Replicas, but sometimes this command can be less than helpful. The command can often fail with vague errors, and only works with registered replicas in vCenter’s inventory. It also doesn’t tell you what pool the replica is tied to!<br /><br />There is also <a href="http://kb.vmware.com/kb/1031842" target="_blank">KB1031842</a> that goes over an ESXi command that can show mapping of what VM is using a particular replica. But in a large environment, this can be a tedious task parsing through the hundreds of lines of output.<br /><br /><b>The Solution</b><br />The nice thing about Replicas is that they are simply a clone of our Parent VM. This means that outside of the protection View puts on the VM itself.. it’s a regular ol’ virtual machine! These objects easily <i>Tagged</i> to help with sorting and inventory management.<br /><br />Tags are a very powerful organization mechanism that were introduced in vSphere 5.1. Tags are recorded as metadata for the object it’s assigned to and can be super helpful for searching the vCenter.<br /><br /><u>To create a Tag</u><br />&lt;ol&gt;<br />	&lt;li&gt;From the vSphere Web Client Home, click <b>Tags</b>&lt;/li&gt;<br />	&lt;li&gt;Click the <b>Items</b> tab and click <b>Tags</b>&lt;/li&gt;<br />	&lt;li&gt;Click the New Tag icon&lt;/li&gt;<br />	&lt;li&gt;In the vCenter Server drop-down menu, select the vCenter you want the Tag to reside on&lt;/li&gt;<br />	&lt;li&gt;Enter a name for your Tag. I have matched my Tag name to my View Pool Name&lt;/li&gt;<br />	&lt;li&gt;For Category, select/create a Category. I named mine <b>View</b>&lt;/li&gt;<br />	&lt;li&gt;For the Tag Category options, choose <b>Many tags per object</b>. This allows multiple tags from the <b>View</b> category to be applied to an object at any one time.<br />NOTE: You cannot change the cardinality from <b>Many tags per object</b> to <b>1 tag per object</b>&lt;/li&gt;<br />	&lt;li&gt;Click <b>OK<br /></b>&lt;/li&gt;<br />&lt;/ol&gt;<br />&lt;div&gt;You can find more information on Tags at the <a href="http://goo.gl/rntPwg" target="_blank">vSphere 5.1 Documentation Center</a>&lt;/div&gt;<br />&lt;div&gt;&lt;/div&gt;<br />&lt;div&gt;<u>Assigning your Tag to a newly created Replica</u>&lt;/div&gt;<br />&lt;div&gt;<br />&lt;div class="separator" style="clear:both;text-align:center;"&gt;&lt;/div&gt;<br />&lt;ol&gt;<br />	&lt;li&gt;After creating your Linked Clone Pool in View, you’ll find the parent VM being cloned to the Replica in the <i>More Tasks</i> pane&lt;/li&gt;<br />&lt;/ol&gt;<br />&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:center;"&gt;<a style="margin-left:1em;margin-right:1em;" href="https://thatvirtualboy.files.wordpress.com/2014/02/306ab-more_tasks.png"><img src="https://thatvirtualboy.files.wordpress.com/2014/02/306ab-more_tasks.png" alt="" border="0" /></a>&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:center;"&gt;&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:left;"&gt;     2. Under <b>Related events</b> find the Replica name your Parent VM is cloning to&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:center;"&gt;<a style="margin-left:1em;margin-right:1em;" href="https://thatvirtualboy.files.wordpress.com/2014/02/8e7f8-win8.png"><img src="https://thatvirtualboy.files.wordpress.com/2014/02/8e7f8-win8.png" alt="" width="400" height="160" border="0" /></a>&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:center;"&gt;&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:left;"&gt;     NOTE: If your Replica was created earlier, no worries. You can search your vCenter’s Task History      to find the Replica name&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:center;"&gt;<a style="margin-left:1em;margin-right:1em;" href="https://thatvirtualboy.files.wordpress.com/2014/02/7ebe0-screenshotfrom2014-02-04084239.png"><img src="https://thatvirtualboy.files.wordpress.com/2014/02/7ebe0-screenshotfrom2014-02-04084239.png" alt="" width="400" height="160" border="0" /></a>&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:center;"&gt;&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:left;"&gt;     3. Now you can go to your <b>Hosts and Clusters</b> view or <b>VMs and Templates</b> view&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:left;"&gt;&lt;/div&gt;<br />&lt;ul&gt;<br />&lt;ul&gt;<br />	&lt;li&gt;Find and Right Click the desired Replica&lt;/li&gt;<br />	&lt;li&gt;Click <b>Assign Tag</b>&lt;/li&gt;<br />	&lt;li&gt;Choose your Tag and click <b>OK</b>&lt;/li&gt;<br />	&lt;li&gt;Your Replica is now tagged!&lt;/li&gt;<br />&lt;/ul&gt;<br />&lt;/ul&gt;<br />&lt;div class="separator" style="clear:both;text-align:center;"&gt;<a style="margin-left:1em;margin-right:1em;" href="https://thatvirtualboy.files.wordpress.com/2014/02/77f6f-tagged.png"><img src="https://thatvirtualboy.files.wordpress.com/2014/02/77f6f-tagged.png" alt="" width="400" height="180" border="0" /></a>&lt;/div&gt;<br />&lt;div&gt;&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:left;"&gt;&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:left;"&gt;Congratulations! You can now easily search your vCenter inventory for your Tag name and find which replica is tied to that Tag. Depending on your naming conventions, your search results may vary. As you can see from my example, my tag matches my View Pool’s vm naming so that gets returned as well&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:left;"&gt;&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:center;"&gt;<a style="margin-left:1em;margin-right:1em;" href="https://thatvirtualboy.files.wordpress.com/2014/02/b421b-tag_result.png"><img src="https://thatvirtualboy.files.wordpress.com/2014/02/b421b-tag_result.png" alt="" width="400" height="132" border="0" /></a>&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:left;"&gt;&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:left;"&gt;&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:left;"&gt;You can also click the Tag name under <i>Tags</i> and find your assigned Replica&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:left;"&gt;&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:center;"&gt;<a style="margin-left:1em;margin-right:1em;" href="https://thatvirtualboy.files.wordpress.com/2014/02/5ba5d-tags.png"><img src="https://thatvirtualboy.files.wordpress.com/2014/02/5ba5d-tags.png" alt="" width="400" height="157" border="0" /></a>&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:left;"&gt;&lt;/div&gt;<br />&lt;div class="separator" style="clear:both;text-align:center;"&gt;&lt;/div&gt;<br />&lt;div&gt;&lt;/div&gt;<br />&lt;div&gt;Thanks for reading!&lt;/div&gt;</p>
:ET