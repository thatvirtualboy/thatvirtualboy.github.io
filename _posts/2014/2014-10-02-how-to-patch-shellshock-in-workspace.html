---
layout: post
title: How to patch Shellshock in Workspace Portal
date: '2014-10-02T13:49:00.000-07:00'
author: thatvirtualboy
excerpt: "VMware has released official bash patches for Horizon Workspace and Workspace Portal to address the recently discovered shellshock bug. Here's how to do it."
tags:
- shellshock
- workspace portal
- workspace
- patches
modified_time: '2017-08-03T10:14:47.282-07:00'
blogger_id: tag:blogger.com,1999:blog-733606464149134140.post-2167271726983178324
blogger_orig_url: https://www.thatvirtualboy.com/2014/10/how-to-patch-shellshock-in-workspace.html
redirect_from: /2014/10/how-to-patch-shellshock-in-workspace.html
---

VMware has released official bash patches for Horizon Workspace and Workspace Portal to address the recently discovered <a href="http://en.wikipedia.org/wiki/Shellshock_(software_bug)" target="_blank">shellshock bug</a>.<br/><div></div><br/><div>Be sure to review <a href="http://kb.vmware.com/kb/2091067">kb.vmware.com/kb/2091067</a> as you must apply the correct patch for your exact version of Workspace.</div><br/><div></div><br/><blockquote class="tr_bq"><b>How to tell if your Workspace instance is currently vulnerable</b></blockquote><br/>To test, run the following command on each VM in the appliance:<br/><br/><span style="font-family:Courier New, Courier, monospace;">env 'VAR=() { :;}; echo Bash is vulnerable!' 'FUNCTION()=() { :;}; echo Bash is vulnerable!' bash -c "echo Bash Test"</span><br/><div></div><br/><div>A system vulnerable to shellshock will show output similar to this:</div><br/><div class="separator" style="clear:both;text-align:center;"><a style="margin-left:1em;margin-right:1em;" href="https://thatvirtualboy.files.wordpress.com/2014/10/32f56-ss4.png"><img src="https://thatvirtualboy.files.wordpress.com/2014/10/32f56-ss4.png" alt="" width="320" height="64" border="0" /></a></div><br/><div></div><br/><div></div><br/><blockquote class="tr_bq"><b>Here is how you can patch your Workspace servers:</b></blockquote><br/><div><br/><ol><br/>	<li>Head over to <a href="http://vmware.com/downloads">vmware.com/downloads</a> and select your current version of Workspace. in this example, we'll be using Workspace Portal 2.1</li><br/>	<li>Download the listed RPM update at the bottom of the page<br/><a style="margin-left:1em;margin-right:1em;text-align:center;" href="https://thatvirtualboy.files.wordpress.com/2014/10/53e37-ss1.png"><img src="https://thatvirtualboy.files.wordpress.com/2014/10/53e37-ss1.png" alt="" width="320" height="49" border="0" /></a></li><br/>	<li>Copy the downloaded patch to <span style="font-family:Courier New, Courier, monospace;">/tmp</span> on your Workspace VM (use something like SCP or WinSCP to accomplish this). If you are on an earlier Workspace instance with multiple VMs in the Workspace appliance, you'll need to do this on all the VMs.<br/><a style="margin-left:1em;margin-right:1em;text-align:center;" href="https://thatvirtualboy.files.wordpress.com/2014/10/04150-ss2.png"><img src="https://thatvirtualboy.files.wordpress.com/2014/10/04150-ss2.png" alt="" width="320" height="217" border="0" /></a></li><br/>	<li>Login to the Workspace VM as root, and unzip the patch<br/><a style="margin-left:1em;margin-right:1em;text-align:center;" href="https://thatvirtualboy.files.wordpress.com/2014/10/9056d-ss3.png"><img src="https://thatvirtualboy.files.wordpress.com/2014/10/9056d-ss3.png" alt="" width="320" height="141" border="0" /></a></li><br/>	<li>Change directory to the unzipped folder, and apply the patch by running<br/><span style="background-color:white;font-family:'Courier New';font-size:14px;">rpm -U --nodeps *.rpm<br/><a style="font-family:'Times New Roman';font-size:medium;margin-left:1em;margin-right:1em;text-align:center;" href="https://thatvirtualboy.files.wordpress.com/2014/10/0185f-ss6.png"><img src="https://thatvirtualboy.files.wordpress.com/2014/10/0185f-ss6.png" alt="" width="320" height="40" border="0" /></a><br/></span></li><br/>	<li>Run the test command from above again to verify you aren't still vulnerable<a style="margin-left:1em;margin-right:1em;text-align:center;" href="https://thatvirtualboy.files.wordpress.com/2014/10/ea9bb-ss5.png"><img src="https://thatvirtualboy.files.wordpress.com/2014/10/ea9bb-ss5.png" alt="" width="320" height="42" border="0" /></a></li><br/></ol><br/><div><span style="font-family:Courier New;"><span style="font-size:14px;">Â </span></span></div><br/></div>
