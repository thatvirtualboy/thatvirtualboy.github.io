---
layout: post
title: Horizon Workspace 1.8.1 and Heartbleed patch
date: '2014-04-21T10:15:00.000-07:00'
author: thatvirtualboy
excerpt: "Among numerous enhancements and fixes, this patch also includes an update to OpenSSL 1.0.1g which resolves the widespread vulnerability known as the Heartbleed Bug."
tags:
- workspace
- heartbleed
- announcement
- upgrade
- horizon
- 1.8.1
modified_time: '2017-08-03T10:14:46.665-07:00'
blogger_id: tag:blogger.com,1999:blog-733606464149134140.post-6936210659729272717
blogger_orig_url: https://www.thatvirtualboy.com/2014/04/horizon-workspace-181-and-heartbleed.html
redirect_from: /2014/04/horizon-workspace-181-and-heartbleed.html
---

This day and age marks a great new release bound to get techies everywhere a mouth watering treat (no not <a href="https://wiki.ubuntu.com/TrustyTahr/ReleaseNotes" target="_blank">that one</a>). VMware released a patch for Horizon Workspace bringing the software to version 1.8.1!<br/><div></div><br/><div>Among numerous enhancements and fixes, this patch also includes an update to OpenSSL 1.0.1g which resolves the widespread vulnerability known as the <a href="http://en.wikipedia.org/wiki/Heartbleed" target="_blank">Heartbleed</a> Bug. You can check out the list of fixes in the <a href="https://www.vmware.com/support/horizon_workspace/doc/hw_release_notes_181.html" target="_blank">Release Notes</a></div><br/><div></div><br/><div>Alongside this patch, you can apply a Heartbleed-only patch to your vApp if desired. If you're running Horizon Workspace 1.0, you must upgrade to at least version 1.5 to apply the Heartbleed fix manually. Likewise you can apply the Heartbleed fix to Workspace 1.8.0, but if you're taking the time to patch it, you might as well update to 1.8.1. See more info about that patch here: <a href="http://kb.vmware.com/kb/2076551">kb.vmware.com/kb/2076551</a></div><br/><div></div><br/><div><b>Applying the Heartbleed-Only fix (updating OpenSSL)</b></div><br/><div></div><br/><div>Applying the Heartbleed-only patch from the above KB, you should copy the RPM to somewhere on the Gateway-va (/tmp for example). I like to use WinSCP for copying files to and from my appliances. Then run the RPM and you will see it stop nginx and apply the patch:</div><br/><div></div><br/><div class="separator" style="clear:both;text-align:center;"><a style="margin-left:1em;margin-right:1em;" href="https://thatvirtualboy.files.wordpress.com/2014/04/3d55b-hb_rpm.png"><img src="https://thatvirtualboy.files.wordpress.com/2014/04/3d55b-hb_rpm.png" alt="" width="400" height="117" border="0" /></a></div><br/><div></div><br/><div>You can always check the status of nginx afterward by running <span style="font-family:Courier New, Courier, monospace;">/etc/rc.d/nginx status</span></div><br/><div><span style="font-family:Courier New, Courier, monospace;"> </span></div><br/><div><span style="font-family:inherit;">Per the KB, after running the OpenSSL fix you'll want to regenerate your SSL Certs. The steps are slightly different if you terminate SSL at the gateway-va vs a Load Balancer, so be sure to refer to the article.</span></div><br/><div><span style="font-family:inherit;"> </span></div><br/><div><span style="font-family:inherit;">You can find more details on the Heartbleed vulnerability here: </span><span style="line-height:100%;"><a href="http://www.vmware.com/security/advisories/VMSA-2014-0004.html">www.vmware.com/security/advisories/VMSA-2014-0004.html</a></span></div><br/><div><span style="line-height:100%;"> </span></div><br/><div><span style="font-family:inherit;"> </span></div><br/><div><b>Updating Workspace 1.8.0 to 1.8.1</b><br/>Be sure to check out the <a href="https://www.vmware.com/support/horizon_workspace/doc/hw_release_notes_181.html" target="_blank">Release Notes</a><br/><b><br/></b></div><br/><div>1. Take a snapshot of each appliance and the external DB VM<br/>2. Login to the Configurator as root<br/>3. Run <span style="font-family:Courier New, Courier, monospace;">/usr/local/horizon/lib/menu/updatemgr.hzn check </span><span style="font-family:inherit;">and ensure you see the 1.8.1 update, then run </span><span style="font-family:'Courier New', Courier, monospace;">/usr/local/horizon/lib/menu/updatemgr.hzn update</span><br/><span style="font-family:inherit;">4. </span><b> Reboot</b> the vApp.<br/>NOTE: If you didn't apply the Heartbleed-specific patch above prior to updating to 1.8.1, then you must generate new SSL Certs and apply them to your gateway-va. See the post-installation steps outlined in <a href="http://kb.vmware.com/kb/2076551">kb.vmware.com/kb/<span style="background-color:white;"><span style="font-family:inherit;">2076551</span></span></a><br/><br/>&lt;<i>Screenshots coming soon</i>&gt;<br/><b><br/></b></div><br/><div>Don't forget to also <a href="http://kb.vmware.com/kb/2076783" target="_blank">upgrade your Workspace Clients</a> to 1.8.1!<br/><br/>If you have further queries or concerns about how Heartbleed could affect your Horizon View environment, take a gander at <span style="background-color:white;font-family:'times new roman', 'new york', times, serif;font-size:16px;"><a href="http://kb.vmware.com/kb/2076796" target="_blank">kb.vmware.com/kb/2076796 </a> along with the VMware Security Advisories page.</span></div>
